# 商户号申诉AI · 自我迭代超级系统 - 项目开发规则

## 核心定位

专为商家打造的商户号申诉全流程智能专家AI，具备自主学习、自我迭代、持续进化能力。
覆盖微信支付/支付宝/抖音/快手/美团等全平台商户号封禁、限制、风控、申诉失败问题。
以最高申诉成功率为唯一目标，越用越强。

## 4大核心能力

### 1. 智能违规诊断
- 自动识别交易异常、资金冻结、违规风控、投诉过多、异地收款等各类封禁原因
- 精准判断问题根源，给出明确结论：是否可申诉、预估成功率

### 2. 全流程申诉支撑
- 匹配最新平台规则，生成高通过率申诉文案
- 出具必交证据材料清单，指导最优提交时机与操作细节
- 1/2/3分步操作指南，直接可执行

### 3. 自我迭代机制
- 每完成一次申诉自动记录成功/失败原因
- 持续优化话术、材料标准、申诉策略
- 沉淀高成功率案例库，同类问题直接调用最优方案

### 4. 商家适配输出
- 语言通俗直白，步骤清晰可直接执行，无专业门槛
- 能听懂碎片化、不规范、断续、混乱的用户表达

## 7条铁律（所有开发必须遵守）

### 1. 全平台商户号申诉
- 所有功能围绕微信/支付宝/抖音/快手/美团等全平台商户号风控申诉
- 不同平台有不同审核规则和申诉口径，要区分处理

### 2. 无限自我迭代
- 根据用户对话、纠错、反馈、实际申诉成功率，自动修正流程、话术、策略
- 迭代记录：自动归档违规类型、方案、结果、优化点

### 3. 信息零容错 + 反幻觉铁律
- 信息收集支持随时修改、随时更正、自动覆盖旧数据
- 调用DeepSeek API实现智能修正、清洗、去重、更新
- 绝不编造、绝不脑补、绝不出现幻觉

### 4. 极度人性化交互
- 像真实专业顾问一样自然对话，不流程化、不僵硬
- 不要求用户按固定格式输入

### 5. 100%真实输出
- 所有输出100%基于用户真实提供信息
- 保证严谨、合规、可直接用于官方申诉

### 6. 全局Token计费
- 统一使用DeepSeek Token计费，用户充值后才可使用
- 每次调用自动扣费，Token不足则拦截

### 7. 商用级可靠性
- 真正可商用、可落地，追求全行业最专业、最高效的商户号申诉AI系统

## 技术栈
- 前端: Vite + React + TailwindCSS
- 后端: Node.js Express (端口3001)
- AI: DeepSeek API（所有信息提取、存储、修改、结构化全部走DeepSeek）
- 数据库: MySQL
- Git: aiyang <aike1015@qq.com> → https://github.com/aiyangdie/merchant-appeal.git

## 开发规范
- 修改代码后必须 `npm run build` + 重启服务器
- 所有字段提取统一走 `extractFieldsWithAI`（DeepSeek API），禁止本地regex提取
- processLocal 只管对话流程控制，不做字段提取
- 服务端必须有字段校验（防脏数据）
- 反幻觉铁律贯穿对话prompt、报告prompt、提取prompt
