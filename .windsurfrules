# 商户号申诉专业助手 - 项目开发规则

## 7条核心原则（所有开发必须遵守）

### 1. 唯一核心：真实商户号申诉场景
- 所有功能、话术、逻辑、流程必须围绕微信/支付类商户号风控、限制、封禁、申诉服务
- 持续迭代优化，不偏离核心场景

### 2. 无限自我迭代
- 根据用户对话、纠错、反馈、实际申诉成功率，自动修正流程、话术、信息收集项、回复逻辑
- 越用越准、越用越稳

### 3. 信息零容错
- 信息收集支持随时修改、随时更正、自动覆盖旧数据
- 调用DeepSeek API实现智能修正、清洗、去重、更新
- 绝不保留错误信息，绝不出现幻觉

### 4. 极度人性化交互
- 口语化、不流程化、不僵硬，像真实专业顾问一样自然对话
- 能听懂碎片化、不规范、断续、混乱的用户表达
- 不要求用户按固定格式输入

### 5. 100%真实输出
- 所有输出100%基于用户真实提供信息
- 不编造、不脑补、不添加未确认内容
- 保证严谨、合规、可直接用于官方申诉

### 6. 全局Token计费
- 统一使用DeepSeek Token计费，用户充值后才可使用
- 每次调用自动扣费，Token不足则拦截
- 无免费、无例外

### 7. 商用级可靠性
- 真正可商用、可落地、能帮商户解决实际问题
- 持续提升可用性、专业性、通过率、用户体验
- 成为稳定可靠的商户申诉工具

## 技术栈
- 前端: Vite + React + TailwindCSS
- 后端: Node.js Express (端口3001)
- AI: DeepSeek API（所有信息提取、存储、修改、结构化全部走DeepSeek）
- 数据库: MySQL
- Git: aiyang <aike1015@qq.com> → https://github.com/aiyangdie/merchant-appeal.git

## 开发规范
- 修改代码后必须 `npm run build` + 重启服务器
- 所有字段提取统一走 `extractFieldsWithAI`（DeepSeek API），禁止本地regex提取
- processLocal 只管对话流程控制，不做字段提取
- 服务端必须有字段校验（防脏数据）
- 反幻觉铁律贯穿对话prompt、报告prompt、提取prompt
